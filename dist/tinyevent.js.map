{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d2914e680c2b2983b6c3","webpack:///./lib/tinyevent.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,qBAAoB;;AAEpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA0B,uBAAuB;AACjD,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"tinyevent.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"tinyevent\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tinyevent\"] = factory();\n\telse\n\t\troot[\"tinyevent\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d2914e680c2b2983b6c3","if( !Array.prototype.every ) {\n  Array.prototype.every = function(callbackfn, thisArg) {\n    var T, k;\n    \n    if (this == null) {\n      throw new TypeError('this is null or not defined');\n    }\n    \n    var O = Object(this);\n    var len = O.length >>> 0;\n    if (typeof callbackfn !== 'function') {\n      throw new TypeError();\n    }\n    if (arguments.length > 1) {\n      T = thisArg;\n    }\n    k = 0;\n    while (k < len) {\n      var kValue;\n      if (k in O) {\n        kValue = O[k];\n        var testResult = callbackfn.call(T, kValue, k, O);\n        if (!testResult) {\n          return false;\n        }\n      }\n      k++;\n    }\n    return true;\n  };\n}\n\nif( !Array.isArray ) {\n  Array.isArray = function(arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n  };\n}\n\nfunction EventObject(type, detail, target, cancelable) {\n  this.type = type;\n  this.detail = detail || {};\n  this.target = this.currentTarget = target;\n  this.cancelable = cancelable === true ? true : false;\n  this.defaultPrevented = false;\n  this.stopped = false;\n  this.timeStamp = new Date().getTime();\n}\n\nEventObject.prototype = {\n  preventDefault: function() {\n    if( this.cancelable ) this.defaultPrevented = true;\n  },\n  stopPropagation: function() {\n    this.stopped = true;\n  },\n  stopImmediatePropagation: function() {\n    this.stoppedImmediate = true;\n    this.stopped = true;\n  }\n};\n\nEventObject.createEvent = function(type, detail, target, cancelable) {\n  return new EventObject(type, detail, target, cancelable);\n};\n\n\nmodule.exports = function(scope) {\n  var listeners = {}, paused = false;\n  \n  var on = function(type, fn) {\n    if( !type || typeof type !== 'string' ) return console.error('type must be a string');\n    if( typeof fn !== 'function' ) return console.error('listener must be a function');\n    \n    var types = type.split(' ');\n    types.forEach(function(type) {\n      listeners[type] = listeners[type] || [];\n      listeners[type].push(fn);\n    });\n    \n    return this;\n  };\n  \n  var once = function(type, fn) {\n    if( !type || typeof type !== 'string' ) return console.error('type must be a string');\n    if( typeof fn !== 'function' ) return console.error('listener must be a function');\n    \n    var types = type.split(' ');\n    types.forEach(function(type) {\n      if( !type ) return;\n      \n      var wrap = function(e) {\n        off(type, wrap);\n        return fn.call(this, e);\n      };\n      on(type, wrap);\n    });\n    \n    return this;\n  };\n  \n  var off = function(type, fn) {\n    if( !type || typeof type !== 'string' ) return console.error('type must be a string');\n    if( typeof fn !== 'function' ) return console.error('listener must be a function');\n    \n    var types = type.split(' ');\n    types.forEach(function(type) {\n      var fns = listeners[type];\n      if( fns ) for(var i;~(i = fns.indexOf(fn));) fns.splice(i, 1);\n    });\n    \n    return this;\n  };\n  \n  var has = function(type) {\n    if( typeof type === 'function' ) {\n      var found = false;\n      listeners.forEach(function(fn) {\n        if( found ) return;\n        if( fn === type ) found = true;\n      });\n      return found;\n    }\n    return listeners[type] && listeners[type].length ? true : false;\n  };\n  \n  var fire = function(type, detail, direction, includeself) {\n    if( paused ) return;\n    \n    var typename = (type && type.type) || type;\n    \n    var event;\n    if( typeof type === 'string' ) {\n      event = EventObject.createEvent(type, detail, scope);\n    } else if( type instanceof window.Event ) {\n      event = type;\n    } else if( type.type && typeof type.preventDefault == 'function' ) {\n      event = type;\n    } else {\n      return console.error('illegal arguments, type is must be a string or event', type);\n    }\n    event.currentTarget = scope;\n    \n    var stopped = false;\n    var action = function(listener) {\n      if( stopped || event.stoppedImmediate ) return stopped = true;\n      if( listener.call(scope, event) === false ) event.preventDefault();\n    };\n    \n    if( !direction || includeself !== false ) {\n      (listeners['*'] || []).slice().reverse().forEach(action);\n      (listeners[event.type] || []).slice().reverse().forEach(action);\n    }\n    \n    if( direction && !stopped && !event.stopped ) {\n      if( direction === 'up' ) {\n        upstream.every(function(target) {\n          target.fire && target.fire(event, null, direction);\n          return !event.stopped;\n        });\n      } else if( direction === 'down' ) {\n        downstream.every(function(target) {\n          target.fire && target.fire(event, null, direction);\n          return !event.stopped;\n        });\n      } else if(Array.isArray(direction)) {\n        direction.every(function(target) {\n          //console.log('fire', event.type, target.id);\n          target.fire && target.fire(event);\n          return !event.stopped;\n        });\n      } else {\n        console.warn('invalid type of direction', direction);\n      }\n    }\n    \n    return !event.defaultPrevented;\n  };\n  \n  var destroy = function() {\n    listeners = null;\n    return this;\n  };\n  \n  var pause = function() {\n    paused = true;\n    return this;\n  };\n  \n  var resume = function() {\n    paused = false;\n    return this;\n  };\n  \n  var upstream = [];\n  var downstream = [];\n  \n  var connect = function(target, direction) {\n    if( !target ) return console.warn('illegal argument: target cannot be null', target);\n    if( typeof target.fire !== 'function' ) return console.warn('illegal argument: target must have fire method', target);\n    \n    if( direction === 'up' && ~upstream.indexOf(target) ) return;\n    else if( direction === 'down' && ~downstream.indexOf(target) ) return;\n    else if( direction === 'up' ) upstream.push(target);\n    else if( direction === 'down' ) downstream.push(target);\n    else return console.warn('illegal argument: direction must be \"up\" or \"down\" but ', direction);\n    \n    return this;\n  };\n  \n  var disconnect = function(target, direction) {\n    if( !target ) return this;\n    \n    if( (!direction || direction === 'up') && ~upstream.indexOf(target) ) upstream.splice(upstream.indexOf(fn), 1);\n    if( (!direction || direction === 'down') && ~downstream.indexOf(target) ) downstream.splice(downstream.indexOf(fn), 1);\n    \n    return this;\n  };\n  \n  // make dom event adaptable\n  var handleEvent = function(e) {\n    return fire(e);\n  };\n  \n  return {\n    handleEvent: handleEvent,\n    scope: function(o) {\n      if( !arguments.length ) return scope;\n      scope = o;\n    },\n    on: on,\n    once: once,\n    off: off,\n    fire: fire,\n    has: has,\n    destroy: destroy,\n    pause: pause,\n    resume: resume,\n    connect: connect,\n    disconnect: disconnect\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/tinyevent.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}