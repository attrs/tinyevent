/*! tinyevent attrs */!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("tinyevent",[],t):"object"==typeof exports?exports.tinyevent=t():e.tinyevent=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){function n(e,t,n,r){this.type=e,this.detail=t||{},this.target=this.currentTarget=n,this.cancelable=r===!0,this.defaultPrevented=!1,this.stopped=!1,this.timeStamp=(new Date).getTime()}Array.prototype.every||(Array.prototype.every=function(e,t){var n,r;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(n=t),r=0;r<o;){var f;if(r in i){f=i[r];var u=e.call(n,f,r,i);if(!u)return!1}r++}return!0}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),n.prototype={preventDefault:function(){this.cancelable&&(this.defaultPrevented=!0)},stopPropagation:function(){this.stopped=!0},stopImmediatePropagation:function(){this.stoppedImmediate=!0,this.stopped=!0}},n.createEvent=function(e,t,r,i){return new n(e,t,r,i)},e.exports=function(e){var t={},r=!1,i=function(e,n){if(!e||"string"!=typeof e)return console.error("type must be a string");if("function"!=typeof n)return console.error("listener must be a function");var r=e.split(" ");return r.forEach(function(e){t[e]=t[e]||[],t[e].push(n)}),this},o=function(e,t){if(!e||"string"!=typeof e)return console.error("type must be a string");if("function"!=typeof t)return console.error("listener must be a function");var n=e.split(" ");return n.forEach(function(e){if(e){var n=function(r){return f(e,n),t.call(this,r)};i(e,n)}}),this},f=function(e,n){if(!e||"string"!=typeof e)return console.error("type must be a string");if("function"!=typeof n)return console.error("listener must be a function");var r=e.split(" ");return r.forEach(function(e){var r=t[e];if(r)for(var i;~(i=r.indexOf(n));)r.splice(i,1)}),this},u=function(e){if("function"==typeof e){var n=!1;return t.forEach(function(t){n||t===e&&(n=!0)}),n}return!(!t[e]||!t[e].length)},s=function(i,o,f,u){if(!r){var s;i&&i.type||i;if("string"==typeof i)s=n.createEvent(i,o,e);else if(i instanceof window.Event)s=i;else{if(!i.type||"function"!=typeof i.preventDefault)return console.error("illegal arguments, type is must be a string or event",i);s=i}s.currentTarget=e;var c=!1,a=function(t){return c||s.stoppedImmediate?c=!0:void(t.call(e,s)===!1&&s.preventDefault())};return f&&u===!1||((t["*"]||[]).slice().reverse().forEach(a),(t[s.type]||[]).slice().reverse().forEach(a)),!f||c||s.stopped||("up"===f?l.every(function(e){return e.fire&&e.fire(s,null,f),!s.stopped}):"down"===f?d.every(function(e){return e.fire&&e.fire(s,null,f),!s.stopped}):Array.isArray(f)?f.every(function(e){return e.fire&&e.fire(s),!s.stopped}):console.warn("invalid type of direction",f)),!s.defaultPrevented}},c=function(){return t=null,this},a=function(){return r=!0,this},p=function(){return r=!1,this},l=[],d=[],y=function(e,t){if(!e)return console.warn("illegal argument: target cannot be null",e);if("function"!=typeof e.fire)return console.warn("illegal argument: target must have fire method",e);if(!("up"===t&&~l.indexOf(e)||"down"===t&&~d.indexOf(e))){if("up"===t)l.push(e);else{if("down"!==t)return console.warn('illegal argument: direction must be "up" or "down" but ',t);d.push(e)}return this}},h=function(e,t){return e?(t&&"up"!==t||!~l.indexOf(e)||l.splice(l.indexOf(fn),1),t&&"down"!==t||!~d.indexOf(e)||d.splice(d.indexOf(fn),1),this):this},v=function(e){return s(e)};return{handleEvent:v,scope:function(t){return arguments.length?void(e=t):e},on:i,once:o,off:f,fire:s,has:u,destroy:c,pause:a,resume:p,connect:y,disconnect:h}}}])});