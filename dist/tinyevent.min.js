/*! tinyevent attrs */!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("tinyevent",[],t):"object"==typeof exports?exports.tinyevent=t():e.tinyevent=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){function r(e,t,r,n){this.type=e,this.detail=t||{},this.target=this.currentTarget=r,this.cancelable=n===!0,this.defaultPrevented=!1,this.stopped=!1,this.timeStamp=(new Date).getTime()}Array.prototype.every||(Array.prototype.every=function(e,t){var r,n;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(r=t),n=0;n<o;){var f;if(n in i){f=i[n];var u=e.call(r,f,n,i);if(!u)return!1}n++}return!0}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),r.prototype={preventDefault:function(){this.cancelable&&(this.defaultPrevented=!0)},stopPropagation:function(){this.stopped=!0},stopImmediatePropagation:function(){this.stoppedImmediate=!0,this.stopped=!0}},r.createEvent=function(e,t,n,i){return new r(e,t,n,i)},e.exports=function(e){var t={},n=!1,i=function(e,r){if(!e||"string"!=typeof e)return console.error("type must be a string");if("function"!=typeof r)return console.error("listener must be a function");var n=e.split(" ");return n.forEach(function(e){t[e]=t[e]||[],t[e].push(r)}),this},o=function(e,t){if(!e||"string"!=typeof e)return console.error("type must be a string");if("function"!=typeof t)return console.error("listener must be a function");var r=e.split(" ");return r.forEach(function(e){if(e){var r=function(n){return f(e,r),t.call(this,n)};i(e,r)}}),this},f=function(e,r){if(!e||"string"!=typeof e)return console.error("type must be a string");if("function"!=typeof r)return console.error("listener must be a function");var n=e.split(" ");return n.forEach(function(e){var n=t[e];if(n)for(var i;~(i=n.indexOf(r));)n.splice(i,1)}),this},u=function(e){if("function"==typeof e){var r=!1;return t.forEach(function(t){r||t===e&&(r=!0)}),r}return!(!t[e]||!t[e].length)},s=function(i,o,f,u){if(!n){var s;i&&i.type||i;if("string"==typeof i)s=r.createEvent(i,o,e);else{if(!(i instanceof r))return console.error("illegal arguments, type is must be a string or event",i);s=i}s.currentTarget=e;var c=function(t){s.stoppedImmediate||t.call(e,s)};return f&&u===!1||((t["*"]||[]).slice().reverse().forEach(c),(t[s.type]||[]).slice().reverse().forEach(c)),f&&!s.stopped&&("up"===f?l.every(function(e){return e.fire&&e.fire(s,null,f),!s.stopped}):"down"===f?d.every(function(e){return e.fire&&e.fire(s,null,f),!s.stopped}):Array.isArray(f)?f.every(function(e){return e.fire&&e.fire(s),!s.stopped}):console.warn("invalid type of direction",f)),!s.defaultPrevented}},c=function(){return t=null,this},a=function(){return n=!0,this},p=function(){return n=!1,this},l=[],d=[],y=function(e,t){if(!e)return console.warn("illegal argument: target cannot be null",e);if("function"!=typeof e.fire)return console.warn("illegal argument: target must have fire method",e);if(!("up"===t&&~l.indexOf(e)||"down"===t&&~d.indexOf(e))){if("up"===t)l.push(e);else{if("down"!==t)return console.warn('illegal argument: direction must be "up" or "down" but ',t);d.push(e)}return this}},h=function(e,t){return e?(t&&"up"!==t||!~l.indexOf(e)||l.splice(l.indexOf(fn),1),t&&"down"!==t||!~d.indexOf(e)||d.splice(d.indexOf(fn),1),this):this};return{on:i,once:o,off:f,fire:s,has:u,destroy:c,pause:a,resume:p,connect:y,disconnect:h}}}])});